<!DOCTYPE html>
<!--[if lt IE 9 ]><html class="no-js oldie" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>TIBCO static code analysis with Sonar Qube</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>
    <script src="js/pace.min.js"></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
	
	
	<link rel="stylesheet" type="text/css" href="css/superslides.css">
	<link rel="stylesheet" type="text/css" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" />

	<link rel="stylesheet" type="text/css" href="css/style.css">


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
	
    <meta name="description" content="">
    
    <meta name="robots" content="all,follow">
	
	
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Font Awesome & Pixeden Icon Stroke icon font-->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/pe-icon-7-stroke.css">
    <!-- Google fonts - Roboto Condensed & Roboto-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:700|Roboto:300,400">
    <!-- lightbox-->
    <link rel="stylesheet" href="css/lightbox.min.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="css/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="css/custom.css">
	
	<!--  Analytics -->
		<script src="https://www.w3counter.com/tracker.js?id=127090"></script>
		<!-- End  Analytics -->

</head>


<body class="fixedNav" style="padding-top:100px;">

    <!-- header
    ================================================== -->
	<div class="loader">
		<div class="inner"></div>
	</div>
	
	<nav id="navigation" class="navbar navbar-expand-lg">
	  <a class="navbar-brand" href="index.html">Atul Anand</a>

	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	  </button>

	  <div class="collapse navbar-collapse" id="navbarNav">
	    <ul class="navbar-nav">
	      <li class="nav-item active">
	        <a class="nav-link" href="index.html#about">About <span class="sr-only">(current)</span></a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="index.html#skills">Skills</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="index.html#stats">Stats</a>
	      </li>      
	      <li class="nav-item">
	        <a class="nav-link" href="index.html#blog">Blog</a>
	      </li>
		  <li class="nav-item">
	        <a class="nav-link" href="index.html#contact">Contact</a>
	      </li>
	    </ul>
	  </div>

	</nav>
 

        <!-- page header/blog hero
        ================================================== -->
		
		
		
		
       <div class="page-header page-header--single page-hero"  style="background-image:url(img/blog/blog-bg-01.jpg); background-size: auto;filter:brightness(200%);"> 
     
			
				
				
            <div class="row page-header__content narrow">
                <article class="col-full">
                    <div class="page-header__info">
                        <div class="page-header__cat">
                            <a href="#0">Technology</a><a href="#0">Tibco BW</a>
                        </div>
                    </div>
                    <h1 class="page-header__title">
                        <a href="#0" title="">
                            TIBCO BW 6 code static analysis with Sonar Qube.
                        </a>
                    </h1>
                    <ul class="page-header__meta">
                        <li class="date">August 5, 2019</li>
                        <li class="author">
                            By
                            <span>Atul Anand</span>
                        </li>
						<li>5 minute read.</li> 
                    </ul>
                    
                
            </div>
    
        </div> <!-- end page-header -->
        
		

		<div class="container">
        <div class="row blog-content">
		
            <div class="col-full blog-content__main">
			
			
				<br></br>
                <p class="lead">In this blog, I will talk about configuring automated code analysis of TIBCO BW 6 using Sonar Qube and its integartion with Maven.
                <br></br>
                <strong>Sonar Qube</strong> is an open source platform for static code analysis and continous inspection of code quality to perform automatic reviews to detect bugs, code coverage, code smells, code complexity and security.
				
				It provides the capability to not only show health of an application but also to highlight issues newly introduced. With a <strong>Quality Gate </strong> in place, you can fix the leak and therefore improve on code qulaity systematically.<br></br>
				
				It provides fully automated analysis and supports integration with build tools like Maven, Ant, Gradle, MSBuild and continous integration tools like Jenkins, Hudosn, Atlassian Bamboo etc.<br> </br>

				Sonar setup in local system:<br><br>
				
				1. Download Sonar Qube and plugins:<br><br>
					a) Download Sonar Qube 5.6.6 version from - https://www.sonarqube.org/downloads/ <br><br>
					b) Download Sonar Qube plugin for BW 6 from - https://github.com/kapilshivarkar/SonarQube-Plugin-for-BusinessWorks6 <br><br>
					c) Download Sonar Build breaker plugin from - https://github.com/adnovum/sonar-build-breaker/releases <br><br>

				2. Sonar Qube setup in Windows: <br><br>
					a) Extract the Sonar Qube from the zip file to a location. <br><br>
					b) Copy the Sonar Qube plugin for BW6 and build breaker plugin to the Sonar Qube location under extensions/plugins. <br><br>
					c) To start Sonar Qube locally, go to the bin folder and run the below batch file in sequence: <br><br>
						InstallNTService <br>
						StartNTService <br>
						StartSonar <br><br>
						
					This will start the Sonar Qube which can be seen from Services.msc shortcut. <br>
					
					By default, Sonar Qube runs on port 9000. After Sonar Qube gets started locally, you can access it using the URL - http://localhost:9000. <br> Default credential is admin/admin.
					<br><br>	
				3. 	In the Maven settings.xml file, add the below snippet for Sonar url. <br><br>
				
					<code>&lt;profile&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;id&gt;sonar&lt;/id&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;bw6-validation-maven-plugin&lt;/artifactId&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;version&gt;1.0.0&lt;/version&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;activation&gt;<br>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;/activation&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;properties&gt;<br>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;sonar.host.url&gt;http://localhost:9000&lt;/sonar.host.url&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;/properties&gt;<br>
						&lt;/profile&gt;
					</code>
					<br><br>
					For the Sonar to run as part of the build, do the below configuration in pom.xml file.<br>
					
					<code>&lt;plugin&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;version&gt;2.7&lt;/version&gt;<br>
						&lt;/plugin&gt;
					</code>
					<br><br>
					Also in the pom.xml file include the source code location for carrying out sonar code analysis.<br>
					
					<code>&lt;properties&gt;<br>
						&nbsp;&nbsp;&nbsp;&lt;sonar.sources&gt;${project.basedir}&lt;/sonar.sources&gt;<br>
						&lt;/properties&gt;
					</code>
					<br><br>
					Note: Sonar analysis can't be run from the applications parent project directory due to limitations of BW6 sonar plugin. <br> TIBCO BW6 plugin sensors looks for module.bwm file at the base directory location. That's why only the analysis of individual application module is possible. <br> Analysis has to be run separately for individual modules whether it be application module, application library module or application test module. <br> The pom.xml file changes needs to be done at individual application module. <br>
				
				<br><br>
				Build execution:<br><br>
				
				Go to the TIBCO project individual application modules and run the maven command - <strong>mvn sonar:sonar</strong> <br><br>
				
				The analysis can be seen from the Sonar Qube UI at http://localhost:9000 <br><br>
				
				For a Sonar analysis passing all quality gates, the maven build run will show the build as success and the Sonar Qube UI will show application status as Green. <br><br>
				
				Click on the Quality Gates tab in the Sonar Qube UI to create a new Quality Gate or update the existing quality gate "SonarQube way". For ex: You can add a new condition for Code Smells greater than 10 to fail the build just for illustration purpose. <br><br>
				
				Now if we run the build again, the build will fail with the details of the quality gate that caused the failure and the Sonar Qube UI will show the application status as Red. <br>
				
				<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://atulanand-netlify-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                            

                <div class="blog-content__pagenav">
                    <div class="blog-content__nav">
                    <!--    <div class="blog-content__prev">
                            <a href="#0" rel="prev">
                                <span>Previous Post</span>
                                Tips on Minimalist Design 
                            </a>
                        </div> -->
                        <div class="blog-content__next">
                            <a href="tibco-decryption.html" rel="next">
                                <span>Next Post</span>
                                <h3>Decrypting a password in TIBCO</h3>
                            </a>
                        </div>
                    </div>

               <!--     <div class="blog-content__all">
                        <a href="blog.html" class="btn btn--primary">
                            View All Post
                        </a>
                    </div>  -->
                </div>

            </div><!-- end blog-content__main -->
        </div> <!-- end blog-content -->
         
    </article>
		</div>


     
	<div class="copyrightSection">

		<div class="col-md-12 text-center">
			<p>&copy; Copyright Atul Anand 2019</p>
		</div>

	</div>

    
        <!-- Java Script
        ================================================== -->
       <!-- <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>  -->
		
		
<script src="js/bootstrap.min.js"></script>
	<script src="js/countUp.js"></script>
	<script src="js/countUp-jquery.js"></script>
	<script src="js/jquery.superslides.min.js"></script>
	<script src="js/jquery.easypiechart.min.js"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/typed.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	
	<script type="text/javascript" src="https://unpkg.com/isotope-layout@3.0.5/dist/isotope.pkgd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script>

	<script src="js/script.js"></script>
	
	<script id="dsq-count-scr" src="//atulanand-netlify-com.disqus.com/count.js" async></script>

</body>
		
</html>